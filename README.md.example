# Drug Indication Mapping API

This is a NestJS API for mapping drug indications to ICD-10 codes.

## Authentication & Security

The API is secured with JWT authentication and role-based access control. It also includes rate limiting and CORS protection.

## Setup

1. Clone the repository
2. Install dependencies with `npm install`
3. Create a `.env` file based on the example below
4. Run the API with `npm run start:dev`

## Environment Variables

Create a `.env` file in the root directory with the following variables:

```
# JWT Configuration
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRATION=1h

# Rate Limiting Configuration
THROTTLE_TTL=60
THROTTLE_LIMIT=10

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:4200

# Server Configuration
PORT=3000
```

## API Documentation

The API documentation is available at `/api/docs` when the server is running. It is secured with JWT authentication, so you'll need to authenticate first to access it.

## Authentication

### Register a new user

```
POST /api/auth/register
{
  "username": "user",
  "password": "password"
}
```

### Login

```
POST /api/auth/login
{
  "username": "user",
  "password": "password"
}
```

This will return a JWT token that you can use to authenticate subsequent requests.

## Security Features

- JWT authentication
- Role-based access control (RBAC)
- Password hashing with bcrypt
- Swagger UI with authentication
- CORS protection
- Rate limiting